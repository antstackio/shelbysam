Type: AWS::Serverless::Function
Properties:
  FunctionName: get-user-info
  CodeUri: lambdas/get-user-info/
  Handler: app.lambdaHandler
  Runtime: nodejs14.x
  Environment:
    Variables:
      leavesTable:
        Ref: LeaveTable
      userinfoTable:
        Ref: UserInfoTable
  Policies:
    - AWSLambdaDynamoDBExecutionRole
    - DynamoDBCrudPolicy:
        TableName:
          Ref: LeaveTable
    - DynamoDBCrudPolicy:
        TableName:
          Ref: UserInfoTable
  Events:
    Root:
      Type: Api
      Properties:
        RestApiId:
          Ref: LeaveApprovalApi2
        Path: /getUserInfo
        Method: POST
